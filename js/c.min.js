(function(){var e,t,n,r,o,a,s,l,i,c,u=[].slice,d=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};window.isBool=function(e){return!0===e||!1===e},window.isEmpty=function(e){return!e||0===e.length},window.isBlank=function(e){return!e||/^\s*$/.test(e)},window.isNull=function(e){try{if((isEmpty(e)||isBlank(e)||null==e)&&!1!==e&&0!==e)return!0}catch(e){}return!1},window.isJson=function(e){if("object"==typeof e)return!0;try{return JSON.parse(e),!0}catch(e){}return!1},window.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},window.toFloat=function(e){return!isNumber(e)||isNull(e)?0:parseFloat(e)},window.toInt=function(e){return!isNumber(e)||isNull(e)?0:parseInt(e)},String.prototype.levenshtein=function(e){var t,n,r=this,o=e+"",a=[],s=Math.min;if(!r||!o)return(o||r).length;for(t=0;t<=o.length;a[t]=[t++]);for(n=0;n<=r.length;a[0][n]=n++);for(t=1;t<=o.length;t++)for(n=1;n<=r.length;n++)a[t][n]=o.charAt(t-1)==r.charAt(n-1)?a[t-1][n-1]:a[t][n]=s(a[t-1][n-1]+1,s(a[t][n-1]+1,a[t-1][n]+1));return a[o.length][r.length]},Array.closest=function(e,t){return e.sort(function(e,n){var r,o;return r=e.search(t)>=0?0:e.levenshtein(t),o=n.search(t)>=0?0:n.levenshtein(t),0===r&&0===o&&(r=e.levenshtein(t),o=n.levenshtein(t)),r-o})},String.prototype.toBool=function(){return""+this=="true"},Boolean.prototype.toBool=function(){return""+this=="true"},Object.size=function(e){var t,n;n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n},window.delay=function(e,t){return setTimeout(t,e)},window.roundNumber=function(e,t){var n;return null==t&&(t=0),n=Math.pow(10,t),Math.round(e*n)/n},jQuery.fn.exists=function(){return jQuery(this).length>0},window.byteCount=function(e){return function(e){return encodeURI(e).split(/%..|./).length-1}}(),window.debounce_timer=null,window.debounce=function(e,t,n){return null==t&&(t=300),null==n&&(n=!1),function(){var r,o,a;return r=1<=arguments.length?u.call(arguments,0):[],a=this,o=function(){if(!n)return e.apply(a,r)},null!=window.debounce_timer?clearTimeout(window.debounce_timer):n&&e.apply(a,r),window.debounce_timer=setTimeout(o,t)}},Function.prototype.getName=function(){var e;return null==(e=this.name)&&(e=(""+this).substr(0,(""+this).indexOf("(")).replace("function ","")),isNull(e)&&(e=md5(""+this)),e},Function.prototype.debounce=function(){var e,t,n,r,o,a,s,l;s=arguments[0],n=arguments[1],l=arguments[2],e=4<=arguments.length?u.call(arguments,3):[],null==s&&(s=300),null==n&&(n=!1),null==l&&(l=window.debounce_timer),null==(null!=(a=window.core)?a.debouncers:void 0)&&(null==window.core&&(window.core={}),core.debouncers={});try{o=this.getName()}catch(e){}try{null!=core.debouncers[o]&&(l=core.debouncers[o])}catch(e){}if(r=this,t=function(){return null!=o&&(clearTimeout(l),delete core.debouncers[o]),n||r.apply(r,e),console.info("Debounce applied")},null!=l)try{clearTimeout(l)}catch(e){e}return n?(r.apply(obj,e),console.log("Executed "+o+" immediately"),!1):null!=o?core.debouncers[o]=delay(s,function(){return t()}):window.debounce_timer=delay(s,function(){return t()})},window.mapNewWindows=function(){return $(".newwindow").each(function(){var e,t;return e=$(this).attr("href"),t=function(e){return null!=e&&(window.open(e),!1)},$(this).click(function(){return t(e)}),$(this).keypress(function(){return t(e)})})},window.toastStatusMessage=function(e,t,n,r){var o;return null==t&&(t="error"),null==n&&(n=3e3),null==r&&(r="#status-message"),isNumber(n)||(n=3e3),!1===r.slice(0,1)&&(r="#"+r),$(r).exists()||(o='<paper-toast id="'+r.slice(1)+'" duration="'+n+'"></paper-toast>',$(o).appendTo("body")),$(r).attr("text",e),$(r).addClass(t),$(r)[0].show(),delay(n+500,function(){return $(r).empty(),$(r).removeClass(t),$(r).attr("text","")})},window.animateLoad=function(e,t){var n,r,o,a,s,l,i;null==e&&(e=50),null==t&&(t="#status-container"),"#"!==t.slice(0,1)&&(t="#"+t);try{return $(t).exists()||(t.slice(1),o="<div id='status-container'> <div class='ball stop hide'></div><div class='ball1 stop hide'></div> <br/><p id='status-message'></p> </div>",$(o).appendTo("body")),!!$(t).exists()&&(l=roundNumber(.5*e),n=$(t).find(".ball"),i=$(t).find(".ball1"),n.removeClass("stop hide"),n.css({width:e+"px",height:e+"px"}),a=roundNumber(e/2+l/2+9),s=roundNumber((e+10)/2-(l+6)/2),i.removeClass("stop hide"),i.css({width:l+"px",height:l+"px",top:"-"+a+"px","margin-left":s+"px"}),!0)}catch(e){return r=e,console.error("Could not animate loader",r.message)}},window.stopLoad=function(e,t){var n,r,o;null==e&&(e="#status-container"),null==t&&(t=500),"#"!==e.slice(0,1)&&(e="#"+e);try{if($(e).exists())return n=$(e).find(".ball"),o=$(e).find(".ball1"),n.addClass("bballgood ballgood"),o.addClass("bballgood ball1good"),delay(t,function(){return n.addClass("stop hide"),n.removeClass("bballgood ballgood"),o.addClass("stop hide"),o.removeClass("bballgood ball1good")})}catch(e){return r=e,console.error("Could not stop load animation",r.message)}},window.stopLoadError=function(e,t,n){var r,o,a;null==t&&(t="#status-container"),null==n&&(n=1500),"#"!==t.slice(0,1)&&(t="#"+t);try{if($(t).exists()&&(r=$(t).find(".ball"),a=$(t).find(".ball1"),r.addClass("bballerror ballerror"),a.addClass("bballerror ball1error"),delay(n,function(){return r.addClass("stop hide"),r.removeClass("bballerror ballerror"),a.addClass("stop hide"),a.removeClass("bballerror ball1error")}),null!=e))return toastStatusMessage(e)}catch(e){return o=e,console.error("Could not stop load error animation",o.message)}},window.openLink=function(e){return null!=e&&(window.open(e),!1)},window.openTab=function(e){return openLink(e)},window.goTo=function(e){return null!=e&&(window.location.href=e,!1)},window.loadJS=function(e,t,n){var r,o,a,s;if(null==t&&(t={}),null==n&&(n=!0),$("script[src='"+e+"']").exists()){if("function"==typeof t)try{t()}catch(e){r=e,console.error("Script is already loaded, but there was an error executing the callback function - "+r.message)}return!0}return(s=document.createElement("script")).setAttribute("src",e),s.setAttribute("async","async"),s.setAttribute("type","text/javascript"),s.src=e,s.async=!0,a=function(){var n;n=s.readyState;try{if(!t.done&&(!n||/loaded|complete/.test(n))&&(t.done=!0,"function"==typeof t))try{return t()}catch(t){return r=t,console.error("Postload callback error for "+e+" - "+r.message),console.warn(r.stack)}}catch(e){return r=e,console.error("Onload error - "+r.message)}},o=function(){console.warn("There may have been a problem loading "+e);try{if(!t.done&&(t.done=!0,"function"==typeof t&&n))try{return t()}catch(e){return r=e,console.error("Post error callback error - "+r.message)}}catch(e){return r=e,console.error("There was an error in the error handler! "+r.message)}},s.setAttribute("onload",a),s.setAttribute("onreadystate",a),s.setAttribute("onerror",o),s.onload=s.onreadystate=a,s.onerror=o,document.getElementsByTagName("head")[0].appendChild(s),!0},n=function(e){try{if(!$("html /deep/ "+e).exists())throw"Bad /deep/ selector";return $("html /deep/ "+e)}catch(t){t;try{if(!$("html >>> "+e).exists())throw"Bad >>> selector";return $("html >>> "+e)}catch(t){return t,$(e)}}},i=function(e){try{return $$(e)[0]}catch(t){return $(e).get(0)}},window.d$=function(e){return n(e)},$(function(){var e,t;try{window.picturefill()}catch(e){e,console.log("Could not execute picturefill.")}mapNewWindows();try{if(e=$.url().attr("fragment"),!isNull(e)&&e.match(/.*[\_\W].*/)&&(t="#"+e.replace(/[\_\W]/g,"-"),$(t).exists()))return $(t).get(0).scrollIntoView()}catch(e){}}),c=function(e){var t,n,r,o,a,s,l,c;for(null==e&&(e=window.currentPagePath),n=0,r=0,o=(a=$("nav paper-tabs paper-tab")).length;r<o;r++){l=a[r];try{if(c=null!=(s=$(l).attr("data-label"))?s:"NO_LABEL",console.log("Search "+e+" for "+c,e.search(c)),-1!==e.search(c)){console.info("We're in collection "+c),i("nav paper-tabs").selected=n;break}}catch(e){t=e,console.warn("Couldn't check - "+t.message)}++n}return!1},window.tabSelect=c,a=function(n){var r;return null==n&&(n="#content a"),r={onStart:function(){return l()},onEnd:function(){return s(),e()},onLoadStart:function(){return t()},onLoadEnd:function(){return e()},allowedTypes:"png|jpg|jpeg|gif"},$(n).imageLightbox(r)},t=function(){return $('<div id="imagelightbox-loading"><div></div></div>').appendTo("body")},e=function(){return $("#imagelightbox-loading").remove()},l=function(){return $('<div id="imagelightbox-overlay"></div>').appendTo("body")},s=function(){return $("#imagelightbox-overlay").remove()},"undefined"!=typeof _arctos&&null!==_arctos||(window._arctos={}),o=function(e){var t,n,r,a;null==e&&(e=!1),r=Date.now(),n=$("#search-input").val(),isNull(n)&&$("#results-container").html("");try{loadJS("https://cdn.jsdelivr.net/lodash/4.17.4/lodash.min.js")}catch(e){}return t=function(){var e,t,o,a;return $("#results-container").exists()||(console.warn("The results container was not properly set up. Manually appending."),o='<ul id="results-container"></ul>',$("#search-container").append(o)),isNull(n)?($("#results-container").html(""),t=Date.now()-r,console.log("Blank search container"),!1):($("#search-input-dummy").val(n).attr("value",n),a={searchInput:document.getElementById("search-input"),resultsContainer:document.getElementById("results-container"),json:_arctos.searchObject,searchResultTemplate:"<li><a href='{url}'>{title}</a></li>",fuzzy:!1,noResultsText:"<strong><em>Sorry, no results found matching '"+n+"'</em></strong>",limit:25},_arctos.searchConfig=a,SimpleJekyllSearch(a),(e=function(){var e,t,n,r,o,a,s,l,i,c,u,h,f,p,w,b,g;for(b=[],c={},p=[],n=0,o=(i=$("#results-container li")).length;n<o;n++)l=i[n],g=$(l).find("a").attr("href"),w={title:f=$(l).find("a").text(),href:g},d.call(b,g)>=0?$(l).remove():(b.push(g),c[f.toLowerCase()]=w,p.push(f.toLowerCase()));_arctos.searchResult={titles:p,smart:c,unique:b},console.log("Found "+b.length+" unique URLs matching the search",b);try{for(u=$("#search-input").val().toLowerCase(),console.log("Attempting to sort by "+u),Array.closest(p,u),s="",t=0,r=0,a=p.length;r<a;r++)if(f=p[r],h=c[f],s+='<li><a href="'+h.href+'">'+h.title+"</a></li>",++t>b.length+1){console.warn("Loop detected!");break}$("#results-container").html(s)}catch(t){e=t,console.warn("Unable to sort results -- "+e.message),console.warn(e.stack)}return b})(),delay(100,function(){return e.debounce(50)}),t=Date.now()-r,console.log("Search completed in "+t+"ms"))},isNull(_arctos.searchObject)?(a="http://handbook.arctosdb.org/search.json",$.getJSON(a).done(function(n){var a,s,l,i,c,u;for(console.info("Search pinged back result",n),_arctos.searchObject=[],_arctos.searchPageObject=[],"",u=[],s=0,l=n.length;s<l;s++)i=(c=n[s]).url,d.call(u,i)>=0?console.info("Removing duplicate url '"+c.url+"'"):(u.push(c.url),_arctos.searchObject.push(c),""===c.category&&_arctos.searchPageObject.push(c));return 36e5,delay(36e5,function(){return console.info("Invalidating stale search result object"),delete _arctos.searchObject,o(!0),!1}),a=Date.now()-r,e&&(console.log("Search results prepped in "+a+"ms"),window.so=_arctos.searchObject),console.info("It took "+a+"ms to fetch the search items"),t()}).error(function(e,t){return console.error("Couldn't do search: "+t),console.warn(e),$("#results-container").html("<p>There was an error getting your search results. Please try again later.</p>")})):(e&&console.warn("Not doing prep -- we already have a search object"),console.log("Searching for '"+n+"' in the saved search object"),t()),!1},r=function(){var e,t,n;return window.hasSetupSizer||(console.debug("Running initial search height sizer ..."),$(window).resize(function(){return console.debug("Firing search height resizer on window resize"),r(),!1}),delay(250,function(){return r()})),t=function(){var e,t;return t=$("paper-tabs").outerHeight(!0),isNull(t)?t=200:$("paper-tabs.affix-top").exists()&&(t+=$("header div.wrapper:visible").outerHeight(!0)),e=t+"px",console.debug("Scroll offset "+e),$("nav#toc").css("top",e),$("nav#toc ul.nav").hasClass("hidden-xs")||$("nav#toc ul.nav").addClass("hidden-xs"),e},$(window).width()<=992?(e=$("nav#toc").outerHeight(!0),n=t(),$(window).scroll(t)):(e=0,n="200px",$(window).unbind("scroll",t)),$("div.nav-container").css("min-height",e),$("nav#toc").css("top",n),window.hasSetupSizer=!0,e},window.fixSearchHeight=r,$(function(){var e,t,n,s,l;for(c(),$("#searchsubmit").click(function(){return $("#sidebar-search-form").submit()}),$("#s").keyup(function(e){if(13===(e.keyCode||e.which))return $("#sidebar-search-form").submit()}),$("#sidebar-search-form").submit(function(e){var t,n;return e.preventDefault(),n=$("#sidebar-search-form").attr("action"),t=encodeURIComponent($("#s").val()),n=n+"?s="+t,goTo(n)}),$("#searchsubmit-arctos").click(function(){return $("#arctos-search-form").submit()}),$("#search-input").keyup(function(e){var t;return t=e.keyCode||e.which,13===t?o():o.debounce(150)}),$("#arctos-search-form").submit(function(e){var t,n;return e.preventDefault(),n=$("#arctos-search-form").attr("action"),t=encodeURIComponent($("#arctos-search").val()),n=n+"?scientific_name="+t,openLink(n)}),o(!0),a(),0,t=0,n=(s=$("table")).length;t<n;t++)l=s[t],$(l).addClass("table table-condensed table-hover");if(console.log("No tables found"),$("nav#toc").exists())return(e=function(){var t,n,o,a;try{return Polymer.RenderStatus.hasRendered()?($("nav#toc li").length>0||"undefined"!=typeof Toc&&null!==Toc&&(Toc.init($("#toc"),$("main article")),$("nav#toc li").length>0||($("nav#toc ul").remove(),console.info("Manually populating the TOC"),(o=Toc.helpers.parseOps($("#toc"))).$scope=$("main article"),o.$nav.attr("data-toggle","toc"),n=Toc.helpers.createChildNavList(o.$nav),a=Toc.helpers.getTopLevel(o.$scope),t=Toc.helpers.getHeadings(o.$scope,a),Toc.helpers.populateNav(n,a,t),$("nav#toc ul.nav").addClass("hidden-xs")),$("body").scrollspy({target:"#toc"})),r()):(console.warn("Waiting for Polymer.RenderStatus to report ready before building TOC"),delay(100,function(){return e()}))}catch(t){if("undefined"==typeof Polymer||null===Polymer)return delay(100,function(){return e()})}})()})}).call(this);
//# sourceMappingURL=maps/c.map